# Домашнее задание к занятию "10.06. Инцидент-менеджмент"

## Задание 1
---
### Дата

22.10.2018 

### Время простоя

 24 часа и 11 минут

### Проблема

Появление непоследовательной информации на веб-сайте. В большинстве случаев GitHub также не мог обслуживать события webhook или создавать и публиковать сайты GitHub Pages.

### Предшедствующие события

В 22:52 UTC 21 октября плановые работы по техническому обслуживанию для замены неисправного оптического оборудования 100G привели к потере связи между нашим сетевым узлом на восточном побережье США и нашим основным центром обработки данных на восточном побережье США. Связь между этими местоположениями была восстановлена за 43 секунды

### Причина

Неисправность нескольких сетевых разделов и последующий сбой базы данных.
Серверы баз данных в центре обработки данных Восточного побережья США содержали записи, которые не были реплицированы на объект Западного побережья США. Поскольку кластеры баз данных в обоих центрах обработки данных теперь содержали записи, которых не было в другом центре обработки данных, инженеры не смогли безопасно вернуть первичную базу данных в центр обработки данных Восточного побережья США.

### Воздействие

В течение некоторого времени информация, отображаемая на GitHub.com, была устаревшей; однако данные не были потеряны.
Инцидент повлиял только на метаданные веб-сайтов, хранящиеся в базах данных MySQL, такие как Issue и PR. 
Данные репозитория Git остаются неизменными и доступны на протяжении всего инцидента.

### Решение

Восстановление базы данных из резервных копий, синхронизация реплик на обоих сайтах, чтобы вернуться к стабильной топологии обслуживания, а затем возобновить обработку заданий в очереди.

### Что сделать, чтобы избежать таких проблем в будущем

Настроить конфигурацию Orchestrator, чтобы предотвратить продвижение праймериз базы данных через региональные границы. Действия Orchestrator вели себя так, как настроено, несмотря на то, что наш уровень приложений не мог поддерживать это изменение топологии. Выборы лидера в регионе, как правило, безопасны, но внезапное введение межстрановой задержки было основным фактором, способствующим этому инциденту. Это было эмерджентное поведение системы, учитывая, что ранее мы не видели внутреннего сетевого раздела такой величины.
